<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "" "">
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:w="http://www.apusic.com/jsf/widget" xmlns:layout="http://www.apusic.com/jsf/layout"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:ajax="http://www.apusic.com/jsf/ajax"
	renderKitId="AJAX">
	<w:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" type="text/css" href="css/login_css.css"/>
		 <script type="text/javascript" src="js/login.js"></script>
		 <script type="text/javascript">
		 	  var frameLen = window.top.frames.length;
		 	  //alert("frameLen="+frameLen);
		  	   if(frameLen > 1){
		  	   		//获取提交路径
					var temp = window.location.pathname;
					//截取工程路径名
					path = temp.substring(0 ,temp.indexOf("/" , 2));
					//alert("path="+path);
		  	   		window.top.location.href = path+'/login.faces';//../login.faces
		  	   }
		  </script>
		<style type="text/css" >
			
		</style>
	</w:head>
	 <f:loadBundle basename="LocalStrings" var="messages"/>
	<w:page onload="setDefault();" title="#{messages['login_page_title']}" style="background-repeat: no-repeat;background-color: #9CDCF9;background-position: 0px 0px;">
		<w:form id="loginForm" ><!--  enctype="multipart/form-data" -->
		<table width="681" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-top:120px">
		  <tr>
		    <td width="353" height="259" align="center" valign="bottom" background="images/login/login_1.gif">
		    <table width="90%" border="0" cellspacing="3" cellpadding="0">
				<!--  错误消息<tr>
					 <td align="center" valign="bottom" style="color:red;">
			        </td>
			       </tr> -->
			      <tr>
			        <td align="right" valign="bottom" style="color:#05B8E4">
			        	Power by  Copyright 2014
			        </td>
			      </tr>
			   </table>
		    </td>
		    <td width="200" background="images/login/login_2.gif">
		    	<table width="190" height="106" border="0" align="center" cellpadding="2" cellspacing="0">
			            <tr>
			              <td height="50" colspan="2" align="left">&nbsp;</td>
			            </tr>
			            <tr>
			              <td width="60" height="30" align="left">#{messages['login_name_title']}</td><!-- 登陆名称 -->
			              <td><w:textField id="userName"   styleClass="textStyle" required="true" requiredMessage="#{console.loginBean.userNameRMessage}"></w:textField><!-- 登陆名称不能为空 --></td>
			            </tr>
			            <tr>
			              <td height="30" align="left">#{messages['login_password_title']}</td><!-- 登陆密码 -->
			              <td><w:textField id="password" inputType="password" styleClass="textStyle"  required="true" requiredMessage="#{console.loginBean.passwordRMessage}"/></td>
			            </tr>
			            <tr>
			              <td height="30">#{messages['login_verifycode_title']}</td><!-- 验 证 码 -->
						  <td>
						  	<TABLE>
						  		<tr>
						  			<td>
						  				<w:textField id="authCode" value="#{console.loginBean.authCode}" styleClass="textStyle" size="4" style="width: 55px;" required="true" requiredMessage="#{console.loginBean.verifyCodeRMessage}"></w:textField>
						  			</td>
						  			<td>
						  				<w:drawImage id="codeImage" binding="#{console.loginBean.codeImage}" draw="#{console.loginBean.drawVerifyCode.draw}"  width="#{console.loginBean.drawVerifyCode.width}" height="#{console.loginBean.drawVerifyCode.height}"  inline="true" alt="#{messages['login_verifycode_title']}" title="#{messages['login_verifyCode_title']}" style="cursor:pointer;" >
						  					<ajax:action event="onclick" action="#{console.loginBean.changeVerifyCode}" immediate="true"></ajax:action>
										</w:drawImage>
						  				<f:verbatim />
						  			</td>
						  		</tr>
						  	</TABLE>
					      </td>
			            </tr>
			            <tr>
			              <td height="40" colspan="2" align="center"><img src="images/login/tip.gif" width="16" height="16"/>#{messages['login_tips']}</td><!-- 请勿非法登陆！ -->
			            </tr>
			          <tr>
			              <td colspan="2" align="center">
			              <TABLE>
						  		<tr><!--  -->
						  			<td><w:button id="submit"  value="#{messages['login_btn_login']}" width="30" action="#{console.loginBean.login}"   styleClass="black-btn" /></td>
						  			<td><w:button id="cancel"  value="#{messages['login_btn_cancel']}" onclick="document.getElementById('loginForm').reset(); return false;"  styleClass="black-btn"/></td>
						  		</tr>
						  	</TABLE>
						  </td>
					  </tr>
			           <tr><!--  错误消息-->
			              <td height="5" colspan="2" style="color:red;">&nbsp;<div id="errorMessage"><h:messages /></div></td>
			           </tr>
		    	</table>
		    </td>
		    <td width="133" background="images/login/login_3.gif">&nbsp;</td>
		  </tr>
		  <tr>
		    <td height="161" colspan="3" background="images/login/login_4.gif"></td>
		  </tr>
		</table>
		</w:form>
	</w:page>
</f:view>